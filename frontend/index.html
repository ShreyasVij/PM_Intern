<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>PM Intern Matcher â€” Enhanced</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="topbar" style="display:flex;justify-content:space-between;align-items:center;position:relative;">
    <h1 style="text-align: center; flex:1;">PM Intern Recommender</h1>
    
    <!-- ðŸ”¹ Navigation buttons -->
    <div id="navButtons" style="position:absolute; right:6rem; top:50%; transform:translateY(-50%); display:flex; gap:1rem;">
        <button onclick="window.location.href='profile.html'" class="btn" id="profileBtn" style="background:var(--success);">
            Profile
        </button>
        <button onclick="window.location.href='login.html'" class="btn" id="loginBtn">
            Login/Signup
        </button>
        <button onclick="logout()" class="btn" id="logoutBtn" style="background:var(--error); display:none;">
            Logout
        </button>
    </div>

    <!-- ðŸ”¹ Theme toggle stays at far right -->
    <button class="theme-toggle" aria-label="Toggle theme" style="position:absolute; right:0.5rem; top:50%; transform:translateY(-50%);">
        <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
        </svg>
    </button>

    <div class="muted">
        <span style="display: none;">Backend: <code id="apiBaseDisplay">http://127.0.0.1:3000/api</code></span>
    </div>
</div>

<div class="wrap">
    <div class="panel fullheight">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem">
            <div>
                <strong style="font-size:1.2rem;color:var(--text)">Internship Search</strong>
                <div class="small">Discover opportunities by title, skill, or location</div>
            </div>
            <button id="reloadBtn" class="btn ghost">Reload Data</button>
        </div>

        <div>
            <div class="filters-row" style="grid-template-columns: 1fr 1fr;">
                <input id="recSearchInput" type="text" placeholder="Search title or skill..." />
                <input id="recLocationInput" type="text" placeholder="Filter location..." />
            </div>
            <div class="result-meta small">
                <div id="normalRecsCount">No search yet</div>
                <button id="normalRecsClear" class="show-more">Clear Filters</button>
            </div>
        </div>

        <div class="cards-scroller" id="normalRecommendationsList" aria-live="polite">
            <div class="empty">
                <h3>Find Opportunities</h3>
                <p>Search for internship titles, companies, or required skills!</p>
            </div>
        </div>

    </div>

    <div class="panel fullheight">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem">
            <div>
                <strong style="font-size:1.2rem;color:var(--success)">AI Recommendations</strong>
                <div class="small">Based on: <b id="selectedAiTriggerLabel">none</b></div>
            </div>
        </div>
        
        <div class="cards-scroller" id="aiRecommendationsArea">
             <div class="empty">
                <h4>AI-Powered Discovery</h4>
                <p>Click "Find Similar (AI)" on an internship to see related opportunities here!</p>
            </div>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
